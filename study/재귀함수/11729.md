# 문제 이름
### # 하노이 탑 이동 순서
## 1. 문제

세 개의 장대가 있고 첫 번째 장대에는 반경이 서로 다른 n개의 원판이 쌓여 있다. 각 원판은 반경이 큰 순서대로 쌓여있다. 이제 수도승들이 다음 규칙에 따라 첫 번째 장대에서 세 번째 장대로 옮기려 한다.

1.  한 번에 한 개의 원판만을 다른 탑으로 옮길 수 있다.
2.  쌓아 놓은 원판은 항상 위의 것이 아래의 것보다 작아야 한다.

이 작업을 수행하는데 필요한 이동 순서를 출력하는 프로그램을 작성하라. 단, 이동 횟수는 최소가 되어야 한다.

아래 그림은 원판이 5개인 경우의 예시이다.

![](https://onlinejudgeimages.s3-ap-northeast-1.amazonaws.com/problem/11729/hanoi.png)


#### 입력
첫째 줄에 첫 번째 장대에 쌓인 원판의 개수 N (1 ≤ N ≤ 20)이 주어진다.

#### 출력
첫째 줄에 옮긴 횟수 K를 출력한다.

두 번째 줄부터 수행 과정을 출력한다. 두 번째 줄부터 K개의 줄에 걸쳐 두 정수 A B를 빈칸을 사이에 두고 출력하는데, 이는 A번째 탑의 가장 위에 있는 원판을 B번째 탑의 가장 위로 옮긴다는 뜻이다.

#### 예제 입력 1
```
3
```

#### 예제 출력 1
```
7
1 3
1 2
3 2
1 3
2 1
2 3
1 3
```

출처 : https://www.acmicpc.net/problem/11729

## 2. 해결 방법
N = 1일 때 A -> C로 이동하면 완성된다.</br>
N = 2일 때 A -> B / A -> C / B -> C로 이동하면 완성된다.</br>
N = 3일 때부터는 이전의 방법을 활용한다.</br>
가장 먼저 위의 두 판을 B로 옮겨야한다. 이 때 B로 옮기는 방법은 N = 2 일 때 A -> B로 옮기는 것을 활용한다.
</br>다음으로 가장 아래의 판을 A -> C로 옮긴다.
</br>마지막으로 B에 있는 나머지 두 판을 C로 옮겨야 하는데 N = 2일 때 B -> C로 옮기는 것을 활용한다.

이를 풀어서 써보면 다음과 같다.
N일 때
1. ( N-1 )일 때 A -> B ( 가장 아래를 제외한 나머지 판을 B로 )
2. ( N == 1 ) 일 때 A -> C (가장 아래 판을 목적지로) 
3. ( N-1 )일 때 B -> C ( B로 옮긴 모든 판을 목적지로 )

```
hanoi(n)
  if n == 1 :
    a -> c
  else :
    hanoi(n-1) a -> b
    hanoi(n-1) b -> c
```

## 3. 배운것
위 문제도 N-1개의 판을 옮기는 경우를 사용하는 분할 정복을 이용하면 쉽게 풀 수 있다는 것을 알게되었다. 복잡한 문제들을 분할 정복을 활용한 재귀 함수로 표현하면 짧은 코드로도 쉽게 풀어낼 수 있다는 것을 알게되었다.

```
function F(x):
  if F(x)가 간단 then:
    return F(x)를 계산한 값
  else:
    x 를 x1, x2로 분할
    F(x1)과 F(x2)를 호출
    return F(x1), F(x2)로 F(x)를 구한 값
```



## 4. 코드

```C++
#include <stdio.h>
#include <math.h>

void hanoi(int, int, int, int);

int main() {

	int N, k;
	scanf("%d", &N);

	k = pow(2, N) - 1;

	printf("%d\n", k);
	hanoi(N, 1, 3, 2);
	

	return 0;
}

void hanoi(int N, int start, int end, int via) {

	if (N == 1) {
		printf("%d %d\n", start, end); // A -> C
	}
	else {
		hanoi(N - 1, start, via, end); // A -> B C경유
		printf("%d %d\n", start, end); // N-1의 경우 옮기는 과정 출력
		hanoi(N - 1, via, end, start); // B -> C A경유
	}
}
```