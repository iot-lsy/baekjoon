# 문제 이름
### # 별 찍기 - 10
## 1. 문제


재귀적인 패턴으로 별을 찍어 보자. N이 3의 거듭제곱(3, 9, 27, ...)이라고 할 때, 크기 N의 패턴은 N×N 정사각형 모양이다.

크기 3의 패턴은 가운데에 공백이 있고, 가운데를 제외한 모든 칸에 별이 하나씩 있는 패턴이다.
```
***
* *
***
```
N이 3보다 클 경우, 크기 N의 패턴은 공백으로 채워진 가운데의 (N/3)×(N/3) 정사각형을 크기 N/3의 패턴으로 둘러싼 형태이다. 예를 들어 크기 27의 패턴은 예제 출력 1과 같다.

#### 입력
첫째 줄에 N이 주어진다. N은 3의 거듭제곱이다. 즉 어떤 정수 k에 대해 N=3k이며, 이때 1 ≤ k < 8이다.

#### 출력
첫째 줄부터 N번째 줄까지 별을 출력한다.

#### 예제 입력 1
27

#### 예제 출력 1
```
***************************
* ** ** ** ** ** ** ** ** *
***************************
***   ******   ******   ***
* *   * ** *   * ** *   * *
***   ******   ******   ***
***************************
* ** ** ** ** ** ** ** ** *
***************************
*********         *********
* ** ** *         * ** ** *
*********         *********
***   ***         ***   ***
* *   * *         * *   * *
***   ***         ***   ***
*********         *********
* ** ** *         * ** ** *
*********         *********
***************************
* ** ** ** ** ** ** ** ** *
***************************
***   ******   ******   ***
* *   * ** *   * ** *   * *
***   ******   ******   ***
***************************
* ** ** ** ** ** ** ** ** *
***************************
```

출처 : https://www.acmicpc.net/problem/2447

## 2. 해결 방법
N = 3일 때 (1,1)의 위치는 공백이다.</br>
N = 9일 때는 N = 3 일 때의 모양이 반복되고 (3, 3),  (3, 4), (3, 5), (4, 3), (4, 4), (4, 5), (5, 3), (5, 4), (5, 5)의 위치는 공백이다.</br>
즉 각 거듭제곱에서 가운데 부분을 공백으로 남겨둔다. </br>
N = 3, N = 9와 같이 도형을 나누어 생각하는 것을 분할정복 방법이라고 한다.</br>
가장 기본이 되는 N = 3의 패턴은 다음과 같다. 
```
************
* ** ** ** *
************
```
위의 패턴은 (1, 1), (1, 4), (1, 7)의 경우 공백인데 이는 **i % 3 == 1 && j % 3 == 1**로 표현이 가능하다. 

N = 9의 패턴은 다음과 같다.
```
*********
* ** ** *
*********
***   ***
* *   * *
***   ***
*********
* ** ** *
*********
```

위 패턴에서 i = 3, 4, 5 / j = 3, 4, 5 에서 공백이 발생한다. </br>
N = 3 패턴 중 가운데 1 패턴만 공백이 발생하는 것이다. 이는 가운데만 공백이 존재한다는 이전의 규칙과 동일하다.</br>
이 때 0, 1, 2, 3, 4, 5, 6, 7, 8을 3개의 경우로 나누기 위해서 N을 3으로 나눈 다음 **i % 3 == 1 && j % 3 == 1** 조건문을 적용하면 다음과 같다.</br>
**(i / 3) % 3 == 1 && (j / 3) % 3 == 1**
원래 숫자 | 연산된 숫자
-- | --
0, 1, 2 | 0
3, 4, 5 | 1
6, 7 ,8 | 2

이 규칙을 활용해 재귀 함수로 만들어 문제를 해결한다.
가장 큰 패턴에서 N/3을 재귀함수로 호출하여 더 작은 패턴으로 이동한다. 

## 3. 배운것
위 문제는 작은 패턴이 전체와 비슷한 기하학적 형태를 띄는 프랙탈 형태이다. 이를 해결하기 위해서 가장 작은 패턴부터  분할하여 문제를 해결하는 분할 정복 알고리즘을 활용한다.</br>
프랙탈은 분할정복 알고리즘을 통해 쉽게 해결이 가능하다는 것을 알게되었다.</br>

```
function F(x):
  if F(x)가 간단 then:
    return F(x)를 계산한 값
  else:
    x 를 x1, x2로 분할
    F(x1)과 F(x2)를 호출
    return F(x1), F(x2)로 F(x)를 구한 값
```

참고 : https://cryptosalamander.tistory.com/38

## 4. 코드

```C++
#include <stdio.h>

void print_star(int, int, int);

int main() {

	int N;
	scanf("%d", &N);

	for (int i = 0; i < N; i++) {
		for (int j = 0; j < N; j++) {
			print_star(i, j, N);
		}
		printf("\n");
	}

	return 0;
}

void print_star(int i, int j, int N) {

	if ((i / N) % 3 == 1 && (j / N) % 3 == 1) { // 공백
		printf(" "); // 각 패턴에서 공백 출력
	}
	else { // 공백이 아닌 경우
		if (N / 3 == 0) { // 3으로 나누어지지 않는 경우
			printf("*"); // 가장 작은 단위 N = 1이므로  * 출력
		}
		else { // 3으로 나누어지는 경우
			print_star(i, j, N/3); // 더 작은 패턴으로 이동
		}
	}
}
```